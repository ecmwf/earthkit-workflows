grib_set:
  mars.expver: '9078'
  numberOfForecastsInEnsemble: 51
  perturbationNumber: 0
members: 5
parameters:
  T:
    target: fileset:cascade_ensms_{param}.grib
    defs:
      base_keys: &base_keys_T
        class: od
        domain: g
        expver: '0001'
        levelist: [250, 500, 850]
        levtype: pl
        stream: enfo
        param: 130
        date: 20230912
        time: 12
      base_interp: &base_interp
        grid: O1280
        intgrid: none
        legendre-loader: shmem
        matrix-loader: file-io
    sources:
      ens:
        - <<: *base_keys_T
          type: pf
          interpolate: *base_interp
          source: fdb
        - <<: *base_keys_T
          type: cf
          interpolate: *base_interp
          source: fdb
    windows:
    - include_start_step: True
      periods:
        - range: [0, 6, 3]
  mn2t6:
    target: fileset:cascade_ensms_{param}.grib
    defs:
      base_keys: &base_keys_mn2t6
        class: od
        domain: g
        expver: '0001'
        levtype: sfc
        stream: enfo
        param: '122.128'
        date: 20230912
        time: 12
    sources:
      ens:
        - <<: *base_keys_mn2t6
          type: pf
          source: fdb
        - <<: *base_keys_mn2t6
          type: cf
          source: fdb
    windows:
    - periods:
      - range:
        - 0
        - 0
        - 6
      - range:
        - 0
        - 6
        - 6
      - range:
        - 6
        - 12
        - 6
  tp:
    target: fileset:cascade_ensms_{param}.grib
    defs:
      base_keys: &base_keys_tp
        class: od
        domain: g
        expver: '0001'
        levtype: sfc
        stream: enfo
        param: 228
        date: 20230912
        time: 12
    sources:
      ens:
        - <<: *base_keys_tp
          type: cf
          source: fdb
        - <<: *base_keys_tp
          type: pf
          source: fdb
    windows:
    - grib_set:
        paramId: 200228
        stepType: diff
      periods:
        - range: [0, 6, 6]
        - range: [3, 9, 6]
        - range: [6, 12, 6]
      window_operation: diff
      include_start_step: True